const translations = {
  en: {
    welcomeTitle: "Welcome!",
    welcomeDesc: "Login to your account to continue.",
    helloTitle: "New User?",
    helloDesc: "Register in a few steps to start your financial journey.",
    signInBtn: "Sign In",
    signUpBtn: "Sign Up",
    loginTitle: "Login",
    signupTitle: "Sign Up",
    orUseEmail: "or use email",
    forgotPass: "Forgot password?",
    loginAction: "Login",
    signupAction: "Create Account",
    fullName: "Your Full Name",
    email: "Email",
    password: "Password (6+ chars)",
    authSubtitleDefault: "Your daily expense companion",
    authSubtitleSignup: "Create a new account",
    emailVerificationNeeded: "Email Verification Needed",
    verificationDesc: "We have sent a verification link to your email. Please check your inbox.",
    spamAlert: "If you don't receive the email, please check your Spam or Junk folder.",
    resendEmail: "Resend Email",
    iHaveVerified: "I Have Verified",
    logout: "Log Out",
    signupSuccess: "Account created! Please check your email (including Spam folder) for verification.",
    signupError: "Signup Error:",
    loginError: "Login Error:",
    resendError: "Failed to resend email:",
    logoutError: "Failed to log out:",
    appLoadError: "Error loading app:",
    dashboardLoading: "Dashboard Loading...",
    logoutTest: "Logout (Test)"
  },
  bn: {
    welcomeTitle: "‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ!",
    welcomeDesc: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®‡•§",
    helloTitle: "‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞?",
    helloDesc: "‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶ï‡¶Ø‡¶º‡ßá‡¶ï ‡¶ß‡¶æ‡¶™‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶ï ‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
    signInBtn: "‡¶≤‡¶ó‡¶á‡¶®",
    signUpBtn: "‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™",
    loginTitle: "‡¶≤‡¶ó‡¶á‡¶®",
    signupTitle: "‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™",
    orUseEmail: "‡¶Ö‡¶•‡¶¨‡¶æ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®",
    forgotPass: "‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡¶®?",
    loginAction: "‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®",
    signupAction: "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®",
    fullName: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßã ‡¶®‡¶æ‡¶Æ",
    email: "‡¶á‡¶Æ‡ßá‡¶á‡¶≤",
    password: "‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° (‡ß¨+ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞)",
    authSubtitleDefault: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßà‡¶®‡¶®‡ßç‡¶¶‡¶ø‡¶® ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ",
    authSubtitleSignup: "‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®",
    emailVerificationNeeded: "‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®",
    verificationDesc: "‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá‡¶õ‡¶ø‡•§ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶®‡¶¨‡¶ï‡ßç‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
    spamAlert: "‡¶Æ‡ßá‡¶á‡¶≤ ‡¶®‡¶æ ‡¶™‡ßá‡¶≤‡ßá ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á Spam ‡¶¨‡¶æ Junk ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
    resendEmail: "‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡ßü ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®",
    iHaveVerified: "‡¶Ü‡¶Æ‡¶ø ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø",
    logout: "‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü",
    signupSuccess: "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® (Spam ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞‡¶∏‡¶π) ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§",
    signupError: "‡¶∏‡¶æ‡¶á‡¶® ‡¶Ü‡¶™ ‡¶≠‡ßÅ‡¶≤:",
    loginError: "‡¶≤‡¶ó‡¶á‡¶® ‡¶≠‡ßÅ‡¶≤:",
    resendError: "‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶≠‡ßÅ‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá:",
    logoutError: "‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶≠‡ßÅ‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá:",
    appLoadError: "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶≠‡ßÅ‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá:",
    dashboardLoading: "‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...",
    logoutTest: "‡¶≤‡¶ó ‡¶Ü‡¶â‡¶ü (‡¶ü‡ßá‡¶∏‡ßç‡¶ü)"
  }
};

let currentLang = 'bn'; // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ

// ‡¶≠‡¶æ‡¶∑‡¶æ‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
export function getTranslation(key) {
  return translations[currentLang][key] || key;
}

// ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
export function setLanguage(lang) {
  if (translations[lang]) {
    currentLang = lang;
    localStorage.setItem('expensify-lang', lang); // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
    applyTranslations(); // UI ‡¶§‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
  }
}

// UI ‡¶è‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® app.js ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶≤ ‡¶π‡¶¨‡ßá)
export function applyTranslations() {
  // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶è‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ID ‡¶ß‡¶∞‡ßá ‡¶ß‡¶∞‡ßá innerText ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá
  document.getElementById('auth-subtitle') && (document.getElementById('auth-subtitle').innerText = getTranslation('authSubtitleDefault'));
  document.getElementById('overlay-welcome-title') && (document.getElementById('overlay-welcome-title').innerText = getTranslation('welcomeTitle'));
  document.getElementById('overlay-welcome-desc') && (document.getElementById('overlay-welcome-desc').innerText = getTranslation('welcomeDesc'));
  document.getElementById('signIn') && (document.getElementById('signIn').innerText = getTranslation('signInBtn'));
  document.getElementById('overlay-hello-title') && (document.getElementById('overlay-hello-title').innerText = getTranslation('helloTitle'));
  document.getElementById('overlay-hello-desc') && (document.getElementById('overlay-hello-desc').innerText = getTranslation('helloDesc'));
  document.getElementById('signUp') && (document.getElementById('signUp').innerText = getTranslation('signUpBtn'));
  document.querySelector('.form-container.sign-in-container .form-title') && (document.querySelector('.form-container.sign-in-container .form-title').innerText = getTranslation('loginTitle'));
  document.querySelector('.form-container.sign-up-container .form-title') && (document.querySelector('.form-container.sign-up-container .form-title').innerText = getTranslation('signupTitle'));
  document.querySelector('.sign-in-container .or-separator') && (document.querySelector('.sign-in-container .or-separator').innerText = getTranslation('orUseEmail'));
  document.querySelector('.sign-up-container .or-separator') && (document.querySelector('.sign-up-container .or-separator').innerText = getTranslation('orUseEmail'));
  document.querySelector('.forgot-pass-link') && (document.querySelector('.forgot-pass-link').innerText = getTranslation('forgotPass'));
  document.querySelector('#login-form .btn-action') && (document.querySelector('#login-form .btn-action').innerText = getTranslation('loginAction'));
  document.querySelector('#signup-form .btn-action') && (document.querySelector('#signup-form .btn-action').innerText = getTranslation('signupAction'));
  document.getElementById('reg-name') && (document.getElementById('reg-name').placeholder = getTranslation('fullName'));
  document.getElementById('login-email') && (document.getElementById('login-email').placeholder = getTranslation('email'));
  document.getElementById('reg-email') && (document.getElementById('reg-email').placeholder = getTranslation('email'));
  document.getElementById('login-pass') && (document.getElementById('login-pass').placeholder = getTranslation('password'));
  document.getElementById('reg-pass') && (document.getElementById('reg-pass').placeholder = getTranslation('password'));
  
  // Verification screen texts
  document.getElementById('verify-title') && (document.getElementById('verify-title').innerText = getTranslation('emailVerificationNeeded'));
  document.getElementById('verify-desc') && (document.getElementById('verify-desc').innerText = getTranslation('verificationDesc'));
  document.getElementById('spam-text') && (document.getElementById('spam-text').innerHTML = getTranslation('spamAlert'));
  document.getElementById('btn-resend') && (document.getElementById('btn-resend').innerText = getTranslation('resendEmail'));
  document.getElementById('btn-reload') && (document.getElementById('btn-reload').innerText = getTranslation('iHaveVerified'));
  document.getElementById('btn-logout-verify') && (document.getElementById('btn-logout-verify').innerText = getTranslation('logout'));
  document.getElementById('temp-logout') && (document.getElementById('temp-logout').innerText = getTranslation('logoutTest'));
  
  
  // ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶ü‡¶ó‡¶≤ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
  const langToggleBtn = document.getElementById('langToggleAuth');
  if (langToggleBtn) {
    if (currentLang === 'en') {
      langToggleBtn.innerText = 'üáßüá© BN';
      document.body.classList.remove('bangla-mode');
    } else {
      langToggleBtn.innerText = 'üá¨üáß EN';
      document.body.classList.add('bangla-mode');
    }
  }
}

// ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
document.addEventListener('DOMContentLoaded', () => {
  const savedLang = localStorage.getItem('expensify-lang');
  if (savedLang) {
    setLanguage(savedLang);
  } else {
    applyTranslations(); // ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá
  }
});